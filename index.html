<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>chess</title>
    <!-- <link rel="stylesheet" type="text/css" href="chess.css">
    -->
    <script src="chess.js"></script>
</head>

<body>
    <header>
        <div 1class="logo">
            <h2 class logo>Chess </h2>
        </div>
    </header>
    <div id="main">
        <div id="board">

        </div>
        <div id="info">info</div>
    </div>

    <script>
        let map = Array();
        let inf = Array();
        let move_color = "white";
        function init_map() { //starting figure position
            // map[x][y]  R - white . r - black
            map = [ //  y=0 ;  y=1   y=2 ; y=3   y=4 ; y=5   y=6 ; y=7
                ["R", "P", " ", " ", " ", " ", "p", "r"], //x=0
                ["N", "P", " ", " ", " ", " ", "p", "n"], //x =1
                ["B", "P", " ", " ", " ", " ", "p", "b"], //x =2
                ["Q", "P", " ", " ", " ", " ", "p", "q"], //x =3
                ["K", "P", " ", " ", " ", " ", "p", "k"], //x =4
                ["B", "P", " ", " ", " ", " ", "p", "b"], //x =5
                ["N", "P", " ", " ", " ", " ", "p", "n"], //x =6
                ["R", "P", " ", " ", " ", " ", "p", "r"] //x =7 WHITE LEFT - BLACK RIGHT
            ];
        }
        function init_inf (){
           inf =[ // changes by step 
                [" ", " ", " ", " ", " ", " ", " ", " "], // 
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "],
                [" ", " ", " ", " ", " ", " ", " ", " "] 
            ];
        }
        function mark_moves_from(){
            init_inf ();
            for(let x = 0; x <= 7;x++)
            for(let y = 0; y <= 7;y++)
            if (can_move_from (x, y))
            inf [x] [y] = 1;
        }
        function can_move_from (x,y){
            return get_color (x,y) == move_color;
           
        }
        function get_color(x,y)
        {
            let figure = map [x] [y];
            if (figure == " ")
            return "";
            return(figure.toUpperCase()==figure)? "white" : "black";
        }
        function figure_to_html(figure) {
 switch(figure)
 {
     case "K" :return "&#9812;"; case "k" :return "&#9818;";
     case "Q" :return "&#9813;"; case "q" :return "&#9819;";
     case "R" :return "&#9814;"; case "r" :return "&#9820;";
     case "B" :return "&#9815;"; case "b" :return "&#9821;";
     case "N" :return "&#9816;"; case "n" :return "&#9822;";
     case "P" :return "&#9817;"; case "p" :return "&#9823;";
     default :return "&nbsp;";
 }
        }

        function show_map() {
            html = "<table border = '1' cellpadding = '2' cellspacing='0' >";
            for (let y = 7; y >= 0; y--) {
                html += "<tr>";
                html += "<td>&nbsp;" + y + "&nbsp;</td>";
                for (let x = 0; x <= 7; x++) {
                    if (inf[x] [y] == " ")
                    color = (x + y) % 2 ? "white" : "grey";
                    
                    else
                    color = inf [x] [y] == "1" ? "#aaffaa" : "#FF69B4" ;
                    html += "<td style = 'height: 50px; width: 50px; " +
                        " background-color : " + color + ";" +
                        " text-align: center ; " +
                        "font-size:40px"+
                        
                        "'>";
                    html += figure_to_html (map[x][y]);
                    html += "</td>";
                }
                html += "</tr>";
            }
            html += "<tr>";
            html += "<td>&nbsp; </td>";
            for (let x = 1; x <= 8; x++) {
                html += "<td style = 'text=align: center '>" + x + "</td>";
            }
            document.getElementById("board").innerHTML = html;
        }
        init_map();
       mark_moves_from();
        show_map();
       
    </script>



</body>

</html>